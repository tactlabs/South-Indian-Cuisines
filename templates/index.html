<!DOCTYPE html>
<html>
<head>
    <title>South Indian Cuisinesüçõ</title>


    <style>
        #container {
             height: 30rem; 
        }

       .highcharts-figure, .highcharts-data-table table {
              min-width: 200px; 
             max-width: 800px;
             margin: 3em auto;
            
             
          }

          .highcharts-data-table table {
            font-family: 'New Tegomin', serif;
             border-collapse: collapse;
             border: 1px solid #000000;
             margin: 10px auto;             
             text-align: center;
             width: 100%;
             max-width: 500px;
           }
.highcharts-data-table caption {
    padding: 1em 0;
    font-size: 1.2em;
    color: rgb(2, 2, 2);
}
.highcharts-data-table th {
	font-weight: 600;
    padding: 0.5rem;
}
.highcharts-data-table td, .highcharts-data-table th, .highcharts-data-table caption {
    padding: 0.5em;
}
.highcharts-data-table thead tr, .highcharts-data-table tr:nth-child(even) {
    background: #f8f8f8;
}
.highcharts-data-table tr:hover {
    background: #f1f7ff;
}

    </style>

</head>

<body>

    <script src="https://code.highcharts.com/highcharts.js"></script>
    <script src="https://code.highcharts.com/modules/exporting.js"></script>
    <script src="https://code.highcharts.com/modules/export-data.js"></script>
    <script src="https://code.highcharts.com/modules/accessibility.js"></script>
    
    
    
    <figure class="highcharts-figure">
        <div id="container"></div>
        <p class="highcharts-description">
            South Indian food have medicinal properties. South Indian food has rice and coconut as its main ingredient. Basically the dishes are very tasty as well as healthy as they do not contain much oil. Idli we cooked at steamed. The Sambar includes a various vegetables, which are rich in fibres and anti-oxidants.‚Äã The dal is high on vitamins and minerals iron, zinc, folate and magnesium‚Äã Sambar is the best foods for smooth digestion.

                                        High in protein
                                        Rich in fibers
                                        Easy digestive
                                        Weight loss benefit
        </p>
    </figure>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>


    <!-- Custom script comes here-->
    <script>

    $( document ).ready(function() {
            // console.log( "ready!" );

            get_data();
    });

    function get_data(){

        url = "/api/data"

        var myusername = $("#username").val();
        $.ajax({
            type: "GET",
            url: url,
            data: myusername,
            cache: false,
            success: function(data){
                // $("#resultarea").text(data);
                console.log(data);

                plot_chart(data);
            }
        });
    } //- get data


    function plot_chart(data) {

            const chart = new Highcharts.chart('container', {
    chart: {
        type: 'column'
    },
    title: {
        text: 'üçõNutritional value of our South Indian Cuisinesüçõ'
    },
    xAxis: {
        categories: data['foods']
    },
    yAxis: {
        min: 0,
        title: {
            text: 'Values (g)'
        },
        stackLabels: {
            enabled: true,
            style: {
                fontWeight: 'bold',
                color: ( // theme
                    Highcharts.defaultOptions.title.style &&
                    Highcharts.defaultOptions.title.style.color
                ) || 'gray'
            }
        }
    },
    legend: {
        align: 'right',
        x: -30,
        verticalAlign: 'top',
        y: 25,
        floating: true,
        backgroundColor:
            Highcharts.defaultOptions.legend.backgroundColor || 'white',
        borderColor: '#CCC',
        borderWidth: 1,
        shadow: false
    },
    tooltip: {
        headerFormat: '<b>{point.x}</b><br/>',
        pointFormat: '{series.name}: {point.y}<br/>Total: {point.stackTotal}'
    },
    plotOptions: {
        column: {
            stacking: 'normal',
            dataLabels: {
                enabled: true
            }
        }
    },
    series: [{
        name: 'Carbohydrates',
        data: data['carbohydrates']
    }, {
        name: 'Protein',
        data: data['protein']
    }, {
        name: 'Fat',
        data: data['fat']
    }]
});


            showValues();


        }

    </script>

</body>

</html>